{"version":3,"sources":["images/logo.svg","components/Header.js","utils/api.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","images/pen.png","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","api","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_checkResult","name","about","method","body","JSON","stringify","link","itemId","id","isLiked","console","log","authorization","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","onClick","onCardClick","onDeleteClick","onCardLike","aria-label","type","length","Main","avatar","onEditAvatar","onEditProfile","onAddPlace","cards","map","index","Footer","PopupWithForm","onSubmit","isOpen","onClose","title","children","textOnButton","ImagePopup","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","evt","preventDefault","onChange","e","target","value","required","placeholder","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","reset","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isConfirmPopupOpen","setConfirmPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","all","getCardList","getUserInfo","user","catch","err","closeAllPopups","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","currentCard","error","setUserInfo","userData","setUserAvatar","loadNewCard","finally","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f70ad432.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from 'react';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <img className=\"header__logo\" src={logo} alt=\"логотип\" />\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","class Api {\r\n    constructor(config) {\r\n        this._url = config.url;\r\n        this._headers = config.headers;\r\n    }\r\n\r\n    _checkResult(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        } else {\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n    }\r\n    // инофрмация профиля\r\n    getUserInfo() {\r\n        return fetch(\r\n            `${this._url}/users/me`,\r\n            {\r\n                headers: this._headers\r\n            })\r\n            .then(this._checkResult)\r\n    }\r\n    // редактирование профиля\r\n    setUserInfo({ name, about }) {\r\n        return fetch(\r\n            `${this._url}/users/me`,\r\n            {\r\n                method: 'PATCH',\r\n                headers: this._headers,\r\n                body: JSON.stringify({\r\n                    name,\r\n                    about,\r\n                })\r\n            })\r\n            .then(this._checkResult)\r\n    }\r\n\r\n    //загрузка изначальных карточек\r\n    getCardList() {\r\n        return fetch(`${this._url}/cards`, {\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResult)\r\n    }\r\n\r\n    // добавление новой карточки\r\n    loadNewCard({ name, link }) {\r\n        return fetch(`${this._url}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name,\r\n                link,\r\n            })\r\n        })\r\n            .then(this._checkResult)\r\n    }\r\n\r\n    //удаление карточки\r\n    deleteCard(itemId) {\r\n        return fetch(`${this._url}/cards/${itemId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers,\r\n        })\r\n            .then(this._checkResult);\r\n    }\r\n    //лайки и дизлайки\r\n    changeLikeCardStatus(id, isLiked) {\r\n        if (isLiked) {\r\n            return fetch(`${this._url}/cards/likes/${id}`, {\r\n                method: \"PUT\",\r\n                headers: this._headers,\r\n            })\r\n                .then(this._checkResult);\r\n        } else {\r\n            return fetch(`${this._url}/cards/likes/${id}`, {\r\n                method: \"DELETE\",\r\n                headers: this._headers\r\n            })\r\n                .then(this._checkResult);\r\n        }\r\n    }\r\n\r\n    // обновление аватара\r\n    setUserAvatar(link) {\r\n        console.log(link)\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify(link)\r\n        })\r\n            .then(this._checkResult);\r\n    }\r\n}\r\n\r\nexport const api = new Api({\r\n    url: 'https://mesto.nomoreparties.co/v1/cohort-16',\r\n    headers: {\r\n        authorization: '6d48ba52-ec94-43bc-a696-2925494647b4',\r\n        'Content-Type': 'application/json'\r\n    }\r\n})","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `element__trash ${isOwn ? 'element__trash_owner' : ''}`\r\n    );\r\n\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `element__btn ${isLiked ? 'element__btn_active' : ''}`\r\n    );\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    };\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onDeleteClick(props.card);\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <img\r\n                className=\"element__image\"\r\n                src={props.card.link}\r\n                alt={props.card.name}\r\n                onClick={handleClick} />\r\n            <button\r\n                onClick={handleDeleteClick}\r\n                className={cardDeleteButtonClassName}>\r\n            </button>\r\n            <div className=\"element__element-container\">\r\n                <h2 className=\"element__text\">{props.card.name}</h2>\r\n                <button\r\n                    onClick={handleLikeClick}\r\n                    aria-label=\"нравится\"\r\n                    className={cardLikeButtonClassName}\r\n                    type=\"button\">\r\n                </button>\r\n                <span className=\"element__likeNamber\">{props.card.likes.length}</span>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Card;\r\n","import React from 'react';\r\nimport Card from './Card.js';\r\nimport pen from './../images/pen.png';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <>\r\n            <section className=\"profile\">\r\n                <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"аватар\" />\r\n                <img\r\n                    className=\"profile__change\"\r\n                    src={pen}\r\n                    alt=\"ручка\"\r\n                    onClick={props.onEditAvatar} />\r\n                <div className=\"profile-info\">\r\n                    <div className=\"profile__conteiner\">\r\n                        <h1 className=\"profile-info__title\">{currentUser.name}</h1>\r\n                        <button\r\n                            aria-label=\"редактировать\"\r\n                            className=\"profile-info__edit-button\"\r\n                            type=\"button\"\r\n                            onClick={props.onEditProfile}></button>\r\n                    </div>\r\n\r\n                    <p className=\"profile-info__text\">{currentUser.about}</p>\r\n                </div>\r\n                <button\r\n                    aria-label=\"добавить\"\r\n                    className=\"profile__add-button\"\r\n                    type=\"button\"\r\n                    onClick={props.onAddPlace}></button>\r\n\r\n            </section>\r\n            <section className=\"elements\">\r\n                {props.cards.map((card, index) => (\r\n                    <div className=\"element\" key={card._id}>\r\n                        <Card\r\n                            card={card}\r\n                            onCardClick={props.onCardClick}\r\n                            onCardLike={props.onCardLike}\r\n                            onDeleteClick={props.onDeleteClick} />\r\n                    </div>\r\n                ))}\r\n            </section>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Main;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB9SURBVHgB7dbBCYAwDAXQ4ASO4CiO4AgdwQ10BDfqKBklpjRCKIiXfLzkQyi95PHppUSAiMiiU9tJqBjC0sMQbEAEgr0gTypF5AOJaZRIIokkksifiEEFjjjsRDY5/DKHxTaxhTxgezSyQt/CMuls7j7rFEJE+kfvas0ImBsR7skYWCY75QAAAABJRU5ErkJggg==\"","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__text\">&copy; 2020 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n    return (\r\n        <div onSubmit={props.onSubmit} className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\r\n            <form className=\"popup__container\">\r\n                <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\r\n                <h2 className=\"popup__text\">{props.title}</h2>\r\n                {props.children}\r\n                <button id=\"delete\" className=\"popup__btn\" type=\"submit\">{props.textOnButton}</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n    return (\r\n        <div className={`photo-popup popup ${props.isOpen && 'popup_opened'}`}>\r\n            <div className=\"photo-popup__container\">\r\n                <button id=\"close-photo\" className=\"popup__close\" onClick={props.onClose}></button>\r\n                <img className=\"photo-popup__img\"\r\n                    src={props.card && props.card.link}\r\n                    alt={props.card && props.card.name} />\r\n                <p className=\"photo-popup__text\">{props.card && props.card.name}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default ImagePopup;","import React, { useState, useContext, useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from './../contexts/CurrentUserContext';\r\n\r\nconst EditProfilePopup = function ({ isOpen, onClose, onUpdateUser }) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const [name, setName] = useState(currentUser.name);\r\n    const [description, setDescription] = useState(currentUser.about);\r\n\r\n    useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    const handleSubmit = function (evt) {\r\n        evt.preventDefault();\r\n        onUpdateUser({\r\n            name,\r\n            about: description\r\n        });\r\n    };\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function handleChangeJob(e) {\r\n        setDescription(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            children={(\r\n                <>\r\n                    <input\r\n                        onChange={handleChangeName}\r\n                        value={name}\r\n                        id=\"name\"\r\n                        className=\"popup__input\"\r\n                        type=\"text\"\r\n                        required\r\n                        placeholder=\"Введите имя\"\r\n                        name=\"userName\"\r\n                        minLength={\"2\"}\r\n                        maxLength={\"40\"} />\r\n                    <input\r\n                        onChange={handleChangeJob}\r\n                        value={description}\r\n                        id=\"job\"\r\n                        className=\"popup__input\"\r\n                        type=\"text\"\r\n                        required\r\n                        placeholder=\"укажите работу\"\r\n                        name=\"userJob\"\r\n                        minLength={\"2\"}\r\n                        maxLength={\"200\"} />\r\n                </>\r\n            )}\r\n            title={'Редактировать профиль'}\r\n            name={'profile'}\r\n            textOnButton={'Сохранить'}\r\n        />\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nconst EditAvatarPopup = function ({ isOpen, onClose, onUpdateAvatar }) {\r\n\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      children={\r\n        <input\r\n          ref={avatarRef}\r\n          id=\"newName\"\r\n          className=\"popup__input\"\r\n          type=\"url\"\r\n          placeholder=\"ссылка на аватар\"\r\n          name=\"avatar\">\r\n        </input>\r\n      }\r\n      title={'Обновить аватар'}\r\n      name={'update-avatar'}\r\n      textOnButton={'Сохранить'}\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nconst AddPlacePopup = function ({\r\n    isOpen,\r\n    onClose,\r\n    onAddPlace,\r\n}) {\r\n    const [name, setName] = useState('');\r\n    const [link, setLink] = useState('');\r\n\r\n    function handleNameChange(evt) {\r\n        setName(evt.target.value);\r\n    };\r\n\r\n    function handleLinkChange(evt) {\r\n        setLink(evt.target.value);\r\n    }\r\n\r\n    const reset = function () {\r\n        setName('');\r\n        setLink('');\r\n    };\r\n\r\n    const handleSubmit = function (evt) {\r\n        evt.preventDefault();\r\n\r\n        onAddPlace({\r\n            name,\r\n            link,\r\n            reset,\r\n        });\r\n    };\r\n\r\n    return (\r\n        <PopupWithForm\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            children={\r\n                <>\r\n                    <input\r\n                        value={name}\r\n                        onChange={handleNameChange}\r\n                        id=\"name-card\"\r\n                        className=\"popup__input\"\r\n                        type=\"text\"\r\n                        required\r\n                        placeholder=\"Название\"\r\n                        name=\"name\"\r\n                        minLength={\"1\"}\r\n                        maxLength={\"30\"} />\r\n                    <input\r\n                        value={link}\r\n                        onChange={handleLinkChange}\r\n                        id=\"link-card\"\r\n                        className=\"popup__input\"\r\n                        type=\"url\"\r\n                        required\r\n                        placeholder=\"Ссылка на картинку\"\r\n                        name=\"link\" />\r\n                </>\r\n            }\r\n            title={'Новое место'}\r\n            name={'add-card'}\r\n            textOnButton={'Создать'}\r\n        />\r\n    );\r\n};\r\n\r\nexport default AddPlacePopup;","import React from 'react';\nimport Header from './Header.js';\nimport { api } from './../utils/api.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup.js';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isConfirmPopupOpen, setConfirmPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [cards, setCards] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState({\n    name: '',\n    about: '',\n    avatar: ''\n  });\n\n  //изначальная инфа и фотки\n  React.useEffect(() => {\n    Promise.all([api.getCardList(), api.getUserInfo()])\n      .then(([cards, user]) => {\n        setCurrentUser(user);\n        setCards(cards);\n      })\n      .catch(err => console.log(err))\n  }, []);\n\n  //редактирование профия попап\n  const handleEditProfileClick = function () {\n    setEditProfilePopupOpen(true);\n  };\n\n  //добавить фотку попап\n  const handleAddPlaceClick = function () {\n    setAddPlacePopupOpen(true);\n  };\n\n  //открытие фотки попап\n  const handleCardClick = function (card) {\n    setIsImagePopupOpen(true);\n    setSelectedCard(card);\n  };\n\n  //редактирование аватара попап\n  const handleEditAvatarClick = function () {\n    setEditAvatarPopupOpen(true);\n  };\n\n  //постановка лайка или дизлайка\n  const handleCardLike = function (card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards)\n      })\n      .catch(err => console.log(err))\n  };\n\n  //обновить инфу в профиле\n  const handleUpdateUser = function ({ name, about }) {\n    api\n      .setUserInfo({ name, about })\n      .then((userData) => {\n        setCurrentUser(userData);\n        closeAllPopups()\n      })\n      .catch((error) => console.error(error))\n  };\n\n  // обновление аватара\n  const handleUpdateAvatar = function (avatar) {\n    api.setUserAvatar(avatar)\n      .then((avatar) => {\n        setCurrentUser(avatar)\n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  };\n\n  // добавление новой карточки\n  const handleAddPlaceSubmit = function ({ name, link, reset }) {\n    api\n      .loadNewCard({ name, link })\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((error) => console.error(error))\n      .finally(() => {\n        reset();\n      });\n  };\n  // удаление своей карточки\n  const handleCardDelete = function (card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter(\n          (currentCard) => currentCard._id !== card._id\n        );\n        setCards(newCards);\n      })\n      .catch((error) => console.error(error))\n  };\n\n  const closeAllPopups = function () {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setConfirmPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard(null);\n  };\n\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          cards={cards}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onDeleteClick={handleCardDelete}\n        />\n        <Footer />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n        <PopupWithForm\n          title={'Вы уверены'}\n          name={'confirm'}\n          isOpen={isConfirmPopupOpen}\n          onClose={closeAllPopups}\n          textOnButton={'Да'}\n        />\n        <ImagePopup\n          card={selectedCard}\n          isOpen={isImagePopupOpen}\n          onClose={closeAllPopups}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}